import { NintendoAccountSession } from './storage/index.js';
import { NintendoAccountToken, NintendoAccountUser } from '../api/na.js';
export interface SavedToken {
    token: NintendoAccountToken;
    created_at: number;
    expires_at: number;
}
export default class NintendoAccountOIDC {
    readonly token: string;
    readonly client_id: string;
    data: SavedToken;
    created_at: number;
    expires_at: number;
    promise: Map<string, Promise<void>>;
    updated: {
        token: number | null;
        user: number | null;
    };
    update_interval: number;
    user: NintendoAccountUser | null;
    onUpdateSavedToken: ((data: SavedToken) => Promise<void>) | null;
    constructor(token: string, client_id: string, data: SavedToken);
    private update;
    getToken(): Promise<NintendoAccountToken>;
    getUser(): Promise<NintendoAccountUser>;
    static createWithSession(session: NintendoAccountSession<unknown>, renew_token?: boolean): Promise<NintendoAccountOIDC>;
}
